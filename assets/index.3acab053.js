import{R as f,az as pe,n as B,a9 as Q,D as U,c as V,q as v,ab as fe,j as l,F as de,r as u,p as H,bJ as me,ap as he,A as K}from"./index.e22dc3d4.js";import{c as ge}from"./index.a9dc5c57.js";/**
 * tdesign v1.10.0
 * (c) 2024 tdesign
 * @license MIT
 */var L=f.createContext("default"),T=function(a){var e=a.children,r=a.size;return f.createElement(L.Consumer,null,function(n){return f.createElement(L.Provider,{value:r||n},e)})};/**
 * tdesign v1.10.0
 * (c) 2024 tdesign
 * @license MIT
 */var Oe={hideOnLoadFailed:!1,shape:"circle"},ye={cascading:"right-up"};/**
 * tdesign v1.10.0
 * (c) 2024 tdesign
 * @license MIT
 */var be=["className","cascading","collapseAvatar","max","size","children"];function Z(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function q(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?Z(Object(e),!0).forEach(function(r){v(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Z(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var X=function(a){var e=B(),r=e.classPrefix,n="".concat(r,"-avatar"),o=Q(a,ye),d=o.className,m=o.cascading,b=o.collapseAvatar,i=o.max,p=o.size,h=o.children,g=U(o,be),O=f.Children.toArray(h),y;O.length>0&&(y=O.map(function(j,D){return f.cloneElement(j,q({key:"avatar-group-item-".concat(D)},j.props))}));var P=V("".concat(n,"-group"),d,v(v({},"".concat(n,"--offset-right"),m==="right-up"),"".concat(n,"--offset-left"),m==="left-up")),x=O.length;if(i&&x>i){var C=y.slice(0,i),z=f.createElement(ee,{className:"".concat(n,"__collapse")},fe(b)||"+".concat(x-i));return C.push(l(de,{children:z})),l(T,{size:p,children:l("div",{className:P,children:C})})}return l(T,{size:p,children:l("div",{...q({className:P},g),children:y})})};X.displayName="AvatarGroup";var Pe=["alt","hideOnLoadFailed","icon","image","shape","size","onError","onClick","onHover","onContextmenu","children","content","style","imageProps","className"];function J(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function w(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?J(Object(e),!0).forEach(function(r){v(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):J(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var Y=pe(function(t,a){var e=Q(t,Oe),r=e.alt,n=e.hideOnLoadFailed,o=e.icon,d=e.image,m=e.shape,b=e.size,i=e.onError,p=e.onClick,h=e.onHover,g=e.onContextmenu,O=e.children,y=e.content,P=e.style,x=e.imageProps,C=e.className,z=U(e,Pe),j=u.exports.useContext(L),D=B(),re=D.classPrefix,ae=u.exports.useState(1),F=H(ae,2),te=F[0],G=F[1],ne=u.exports.useState(!0),W=H(ne,2),oe=W[0],M=W[1],I=u.exports.useRef(null),S=u.exports.useRef(null),s=b===void 0?j:b,R=4,$=function(){if(!(!S.current||!I.current)){var c=S.current.offsetWidth,N=I.current.offsetWidth;c!==0&&N!==0&&R*2<N&&G(N-R*2<c?(N-R*2)/c:1)}};me(S.current,$);var se=function(c){i==null||i(c),!n&&M(!1)};u.exports.useEffect(function(){M(!0),G(1)},[d]),u.exports.useEffect(function(){$()},[]);var ce=he(),E=ce.SIZE,ie=s&&!E[s]?{width:s,height:s,fontSize:"".concat(Number.parseInt(s,10)/2,"px")}:{},le=s&&!E[s]?{width:s,height:s}:{},k="".concat(re,"-avatar"),ue=V(k,C,v(v(v({},E[s],!!E[s]),"".concat(k,"--").concat(m),!!m),"".concat(k,"__icon"),!!o)),_;if(d&&oe)_=l(ge,{...w({src:d,alt:r,style:le,onError:se},x)});else if(o)_=o;else{var ve={transform:"scale(".concat(te,")")};_=l("span",{ref:K(a,S),style:ve,children:O||y})}return l("div",{...w({ref:K(a,I),className:ue,style:w(w({},ie),P),onClick:function(c){return p==null?void 0:p({e:c})},onMouseEnter:function(c){return h==null?void 0:h({e:c})},onContextMenu:function(c){return g==null?void 0:g({e:c})}},z),children:_})},{Group:X});Y.displayName="Avatar";var ee=Y;/**
 * tdesign v1.10.0
 * (c) 2024 tdesign
 * @license MIT
 */var je=ee;export{je as A};
